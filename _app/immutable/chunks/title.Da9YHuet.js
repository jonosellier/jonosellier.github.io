import{s as B,n as E,o as G,a as V,b as q}from"./scheduler.DIcuhWVn.js";import{S as P,i as k,e as T,s as N,t as O,c as C,a as I,d as w,f as W,b as j,n as u,g as H,h as x,j as Q}from"./index.Dg8JnZfo.js";import{m as J}from"./media.BFuKSY36.js";function K(c){let o,l,d,s,t=c[0].toLocaleUpperCase()+"",e;return{c(){o=T("div"),l=T("canvas"),d=N(),s=T("span"),e=O(t),this.h()},l(r){o=C(r,"DIV",{class:!0});var a=I(o);l=C(a,"CANVAS",{style:!0,class:!0}),I(l).forEach(w),d=W(a),s=C(a,"SPAN",{class:!0,style:!0});var g=I(s);e=j(g,t),g.forEach(w),a.forEach(w),this.h()},h(){u(l,"style",`height: ${p}px`),u(l,"class","z-10 pointer-events-none svelte-1dnhcaq"),u(s,"class","text-white absolute top-0 font-bold z-20 svelte-1dnhcaq"),u(s,"style",`font-size: ${p}px; line-height: ${p*.8}px`),u(o,"class","relative")},m(r,a){H(r,o,a),x(o,l),c[2](l),x(o,d),x(o,s),x(s,e)},p(r,[a]){a&1&&t!==(t=r[0].toLocaleUpperCase()+"")&&Q(e,t)},i:E,o:E,d(r){r&&w(o),c[2](null)}}}const p=72;function F(c,o){return Math.floor(Math.random()*(o-c+1)+c)}function X(){return Math.floor(Math.random()*4+4)}function y(){return Math.floor(Math.random()*2+2)*.8}function Y(){return Math.floor(Math.random()*221+80)}function Z(c,o,l){let d,s,t,e,r,a,g,v,_=["red","blue"],S=-1,{text:m}=o;G(()=>{if(!J.prefersReducedMotion()){window.addEventListener("resize",b);const i=getComputedStyle(document.body);_=[i.getPropertyValue("--prim-1"),i.getPropertyValue("--prim-2")],e=t.getContext("2d"),e.imageSmoothingQuality="high",r=new Image,a=new Image,b()}});function b(){clearTimeout(S);const{width:i,height:h}=t.getBoundingClientRect();l(1,t.width=i,t),l(1,t.height=h,t),A(),e.clearRect(0,0,t.width,t.height),M(),L()}V(()=>{clearTimeout(S),window.removeEventListener("resize",b)});function L(){S=setTimeout(()=>{z(),L()},Math.random()*4900+100)}function z(){r.onload=function(){e.clearRect(0,0,t.width,t.height);const i=D();let h=0;for(let n=0;n<i.length;n++)e.drawImage(r,0,h,t.width,i[n],F(-2*y(),2*y()),h,t.width,i[n]),h=h+i[n];M(),v=t.toDataURL("image/png",1),a.onload=()=>{e.clearRect(0,0,t.width,t.height),e.drawImage(a,0,0,t.width,t.height/3+5,1,0,t.width,t.height/3+5),e.drawImage(a,0,t.height/3+5,t.width,t.height/3-5,0,t.height/3+5,t.width,t.height/3-5),e.drawImage(a,0,t.height/3*2,t.width,t.height/3,0,t.height/3*2,t.width,t.height/3)},a.src=v},r.src=g,setTimeout(()=>{a.onload=function(){e.clearRect(0,t.height/3*2,t.width,t.height/3);const i=D();let h=0;for(let n=0;n<i.length;n++)e.drawImage(a,0,h,t.width,i[n],F(-2*y(),2*y()),h,t.width,i[n]),h=h+i[n]},a.src=v},80),setTimeout(function(){e.clearRect(0,0,t.width,t.height),M()},Y())}function M(){e.font=`bold ${p}px Roboto Mono`,e.fillStyle="#FFFFFF",e.textAlign="start",e.textBaseline="middle",e.fillText(m.toLocaleUpperCase(),d,s)}function D(){let i=t.height;const h=X(),n=[];let R=0;for(let f=0;f<h;f++)n[f]=Math.floor(Math.random()*(i/(h-1)-2+1)+2),i=i-n[f],R=R+n[f],n[h]=t.height-R;return n}function A(){e.save(),e.font="bold 80px Roboto Condensed",e.textAlign="center",e.textBaseline="middle",e.globalCompositeOperation="destination-over",e.clearRect(0,0,t.width,t.height),e.fillStyle=_[0],e.fillText(m,d-2,s),e.fillStyle=_[1],e.fillText(m,d+2,s),e.restore(),g=t.toDataURL("image/png",1)}function U(i){q[i?"unshift":"push"](()=>{t=i,l(1,t)})}return c.$$set=i=>{"text"in i&&l(0,m=i.text)},d=0,s=p/2,[m,t,U]}class it extends P{constructor(o){super(),k(this,o,Z,K,B,{text:0})}}export{it as T};
